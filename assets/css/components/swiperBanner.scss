@use 'sass:map';
@use '../abstracts/variables';
@use '../abstracts/mixins';

%swiperBanner {
  position: relative;
  overflow: hidden;
}

/* paging */
%paginationFraction {
  position: absolute;
  left: auto;
  width: auto;
  height: 26px;
  border-radius: 13px;
  padding: 6px 10px;
  background: rgba(var(--Grayscale-100-RGB), 20%);
  backdrop-filter: blur(10px);
  font-size: 0;

  &.pos-center {
    right: initial;
    left: 50%;
    bottom: 20px;
    @include mixins.prefix(transform, translateX(-50%));
  }

  &.btn-more {
    cursor: pointer;

    &:after {
      content: '';
      display: inline-block;
      width: 8px;
      height: 8px;
      margin: {
        top: 2px;
        left: 4px;
      }
      @include mixins.ratio_images('/assets/images/common/comm_ico_h8_swiper_more');
    }
  }

  :deep(.swiper-pagination-current), :deep(.swiper-pagination-total) {
    color: var(--Grayscale-0);
    @include mixins.font_size_xs;
  }

  :deep(.swiper-pagination-total) {
    position: relative;
    opacity: 0.5;
    padding-left: 10px;

    &:before {
      content: '';
      position: absolute;
      display: block;
      left: 4px;
      top: 50%;
      margin-top: -1px;
      width: 2px;
      height: 2px;
      border-radius: 2px;
      background-color: var(--Grayscale-0);
    }
  }
}

%paginationDot {
  background: transparent;
  height: auto;
  gap: 5px;
  @include mixins.justify_width(center, center);

  :deep(.swiper-pagination-bullet) {
    width: 6px;
    height: 6px;
    margin: 0;
    background: var(--Grayscale-40);
    opacity: 1;

    &.swiper-pagination-bullet-active {
      background: var(--Grayscale-90);
      @include mixins.prefix(transition, background 0.15s);
    }
  }
}

.swiper-pagination-fraction {
  @extend %paginationFraction;
  bottom: 10px;
  right: 10px;
}

.swiper-pagination-bullets {
  @extend %paginationDot;

  // position - inner
  &:not([class*=pos-out]) {
    left: 0;
    right: 0;
    bottom: 16px;
  }

  // position - outer
  &[class*=pos-out] {
    position: initial;
    margin-top: 16px;
  }
}

/* swiper banner */
.swiper-banner-wrap {
  @extend %swiperBanner;
  margin: {
    left: -5px;
    right: -5px;
  }
  .swiper {
    border-radius: 15px;
  }
}

// type - prod
.swiper-banner-prod-wrap {
  @extend %swiperBanner;
  margin: {
    left: -20px;
    right: -20px;
  }

  :deep(.thumb-prod-box) {
    border-radius: 0;
  }

  .swiper-pagination-bullets {
    @extend %paginationDot;
    bottom: 16px;
  }
}

// type - promotion
.swiper-banner-promotion-wrap {
  @extend %swiperBanner;
  margin: {
    left: -20px;
    right: -20px;
  }

  .swiper-pagination {
    @extend %paginationFraction;
    right: 20px;
    bottom: 20px;
  }
}

// type - marketing
.swiper-banner-marketing-wrap {
  @extend %swiperBanner;

  .swiper-pagination-fraction {
    height: 22px;
    padding: 4px 8px 4px;
    border-radius: 8px;
    bottom: 20px;
    right: 20px;
  }

}

/* // swiper banner */
